--- linux/net/core/sock.c	2020-11-02 15:17:38.260677777 +0530
+++ linux_new/net/core/sock.c	2020-11-04 16:52:07.619950965 +0530
@@ -1836,7 +1836,8 @@
 		/* sk->sk_memcg will be populated at accept() time */
 		newsk->sk_memcg = NULL;
 
-		cgroup_sk_alloc(&newsk->sk_cgrp_data);
+		//cgroup_sk_alloc(&newsk->sk_cgrp_data);
+		cgroup_sk_clone(&newsk->sk_cgrp_data);
 
 		rcu_read_lock();
 		filter = rcu_dereference(sk->sk_filter);
